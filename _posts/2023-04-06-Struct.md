---
layout: post
title:  "Struct"
date:   2023-04-03
desc: "Black horse online course"
keywords: "C++"
categories: [C++]
tags: [C++]
icon: icon-html
---

# Struct
## _Cpp-Struct_

[![image](https://www.freeiconspng.com/thumbs/c-logo-icon/c--logo-icon-0.png)](https://www.bilibili.com/video/BV1et411b73Z?p=64&vd_source=d8d0bffc8e5266c19ad61d5b6c71609e)

## Keypoints 
- Basics
- Define a struct
- Struct and array
- Struct and pointer
- Struct in struct
- Struct as funcion parameter
- const in struct

## Basics
- Structer is a self-defined data type and it allows users to store different kinds of data type.

## Define a struct

```cpp
// struct name{
//    actor list;
//};
struct Student{
    string name;
    int age;
    int score;          // combine many data types
};

// Three methods to initialize a struct
// 1st method
struct Student s1;  // or Student s1, i.e omit data type struct is ok
s1.name = "Tom";
s1.age = 18;
ss1.score = 95;

// 2nd method
struct Student s2 = {"Jerry", 28, 75};

// 3rd method
// add struct variable name after definition
```

## Struct and array
```cpp
struct Student {
    string name;
    int age;
    int score;
};

int main(){
    struct Student stuArray[8] = {
        { "Tome", 18, 76},
        { "Jerry", 22, 88},
        { "Hod", 23, 92}};
    
    stuArray[2].name = "Tim";
    stuArray[2].age = 60;
    
    for ( int i=0; i<3; i++){
        cout << stuArray[i].name << stuArray[i].age << stuArray[i].score << endl;
    }
    
    return 0;
}
```

## Struct and pointer
```cpp
struct Student {
    string name;
    int age;
    int score;
};

int main(){
    struct Student s = {"Tom", 25, 100};
    struct student *p = &s;         // pointer to struct must be struct type, not int *p;
    student *p = &s;                // here we can alse omit struct, same as last line;
    
    cout << p->name << p->age << p->score << endl;      // use -> to get struct actor value
    
    return 0;
}
```

## Struct in struct 
```cpp
struct Student {
    string name;
    int age;
    int score;
};

struct Teacher {
    int id;
    string name;
    int age;
    struct Student stu;
};

int main(){
    Teacher t;
    t.id = 100;
    t.name = "Tim";
    t.age = 50;
    t.stu.name = "Tom";
    t.stu.age = 16;
    t.stu.socre = 60;
    
    return 0;
}
```

## Struct as funcion parameter
```cpp
struct Student {
    string name;
    int age;
    int score;
};

// value pass
void printStudent1(struct Student s){
    s.age = 100;
    cout << s.name << s.age << endl;
};

// address pass
void printStudent2(struct Student *p){
    p->age = 200;
    cout << p->name << p->age << endl;
};

int main(){
    Student s = {"Tom", 23, 85};
    printStudent1(s);
    printStudent2(&s);      // not a pointer, just an address, but similarly, after all pointer "is" address
    cout << s.age <<endl;   // change of parameter in value pass doesn't change the argument value
                            // change of parameter in address pass change the argument value
    
    return 0;
}
```

## const in struct
```cpp
struct Student {
    string name;
    int age;
    int score;
};

// value pass
void printStudent1(const struct Student *s){
    //s->age = 150;       // it's forbidden due to const
    cout << s->name << s->age << endl;
};

int main(){
    Student s = {"Tom", 23, 85};
    printStudent1(&s);      // address pass saves much storage than value pass
    
    return 0;
}
```
